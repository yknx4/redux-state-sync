{"version":3,"sources":["webpack://reduxStateSync/syncState.umd.min.js"],"names":["root","factory","exports","module","define","amd","window","modules","installedModules","__webpack_require__","moduleId","i","l","call","m","c","d","name","getter","o","Object","defineProperty","enumerable","get","r","Symbol","toStringTag","value","t","mode","__esModule","ns","create","key","bind","n","object","property","prototype","hasOwnProperty","p","s","initMessageListener","initStateWithPrevTab","withReduxStateSync","createReduxStateSync","createStateSyncMiddleware","undefined","generateUuidForAction","isActionAllowed","isActionSynced","action","$isSync","MessageListener","_PouchDbBroadcastChannel","lastUuid","defaultConfig","channel","predicate","blacklist","whitelist","broadcastChannelOption","prepareState","state","s4","Math","floor","random","toString","substring","guid","WINDOW_STATE_SYNC_ID","stampedAction","$uuid","$wuid","_id","_ref","allowed","Array","isArray","indexOf","type","_ref2","dispatch","isSynced","tabs","this","handleOnMessage","assign","payload","messageChannel","onmessage","config","arguments","length","PouchDbBroadcastChannel","messageListener","_ref3","getState","next","postMessage","e","console","error","appReducer","initState","_ref4","_ref5","_createClass","defineProperties","target","props","descriptor","configurable","writable","Constructor","protoProps","staticProps","db","_this","instance","TypeError","_classCallCheck","$db","$onChange","changes","live","include_docs","then","results","forEach","onMessage","doc","catch","message","put","log","close"],"mappings":"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","file":"syncState.umd.js","sourceRoot":""}